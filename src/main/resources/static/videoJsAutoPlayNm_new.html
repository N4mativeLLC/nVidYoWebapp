<html>
  <head>
  <meta charset="utf-8" name="google-site-verification" content="XFO1s25OZSmxb3g6_kHXh2pRUfJiycODcGtPQf6KvDw" />
   <!-- Global site tag (gtag.js) - Google Analytics -->
    <!-- To DO - change Analytics id according to client -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-133520286-2"></script>
	<script>
 	window.dataLayer = window.dataLayer || [];
  	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	//To DO - change Analytics id according to client -->
  	gtag('config', 'UA-133520286-2');
	</script>

    <title>N4mative-Video</title>
    <link href="https://vjs.zencdn.net/7.4.1/video-js.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-2.0.3.min.js"></script>
    
  </head>
  <body>
  <div style="display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  min-height: 100vh;">
    <video id="video" controls class="video-js vjs-default-skin vjs-big-play-centered" width="640" height="480" 
    autoplay preload="auto">
      <source id="mp4source" src="" type="video/mp4">
      <!--source src="http://vjs.zencdn.net/v/oceans.webm" type="video/webm">-->
    </video>
   </div>
	<script src="https://vjs.zencdn.net/7.4.1/video.js"></script>
	<script src="videoJS/videojs.ga.js"></script>
  
   <script>
   var player;
   var videoFile;
   var duration;
   window.open('', '_self', '');
   
   function getQueryVariable(variable) {
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split("=");
            if (pair[0] == variable) {
                return pair[1];
            }
        }
        //returning false will help knowing if that variable exists
        return false;
    }

    function loadVideo() {
       	videoFile = getQueryVariable("v");
       //videoFile = "https://pps.nvidyo.co.za/n4mvp/v2/vplayer/videoJsAutoPlayNm.html?v=/videos/pps/prof_share_202104/ab71d535c5f24ca6835155aa2142b316bfe40b5a884f4213b45085e807b8500d_124535922.mp4";

        //if v is not set
        if (!videoFile) {
            alert('please choose a video file, \n maybe you came here by accident?');
            //no need to go further
            return;
        }
        var mp4source = document.getElementById("mp4source");
        mp4source.setAttribute("src", videoFile);
    	player= videojs('video', {"autoplay": true,}, function() {
        this.ga({
            
       		});
      	});
      	player.ga({
          'eventsToTrack': ['fullscreen',
          'resize','loaded', 
          'percentsPlayed', 
          'start', 'end', 'seek',
          'play', 'pause', 'resize',
          'volumeChange', 'error', 
          'fullscreen'],
          'debug': true
        });
      	
      	/* var playAndFullscreen = document.getElementsByClassName('vjs-big-play-button')[0];
		playAndFullscreen.addEventListener('click', function(e) {
          e.preventDefault();
          player.play();
          player.requestFullscreen();
        }, false); */
		
		
      	player.on("ended",function(){
         window.close();
        });
    }
    //To DO - change Analytics id according to client -->
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-133520286-2', { 'cookieDomain': 'none' });
      ga('send', 'pageview');
      
      window.onload = loadVideo();
  </script>
</body>
</html>